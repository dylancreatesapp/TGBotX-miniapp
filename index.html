<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>TGBotX Mini-App</title>
    <!-- Using Bootstrap for responsive layout -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
    />
    <!-- Google Font for a modern look -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Global styles */
      body {
        background: #f1f1f1;
        font-family: 'Roboto', sans-serif;
        color: #333;
      }
      /* Container styling with soft shadow and rounded corners */
      .container {
        .container {
  background: #fff;
  border-radius: 15px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
  padding: 30px;
  margin: 20px auto;
  width: 95%;
  max-width: 600px; 
}

      }
      /* Header styling */
      .header {
        text-align: center;
        margin-bottom: 30px;
      }
      .header h1 {
        font-size: 2.5rem;
        margin-bottom: 5px;
        color: #444;
      }
      .header p {
        font-size: 1.1rem;
        color: #666;
      }
      /* Rounded, curvy buttons with smooth transitions */
      button {
        border-radius: 50px;
        padding: 10px 20px;
        transition: all 0.3s ease;
        font-weight: 500;
        border: none;
      }
      button:hover {
        opacity: 0.9;
      }
      /* Custom button colors */
      .btn-primary {
        background-color: #4a4a4a;
      }
      .btn-secondary {
        background-color: #888;
      }
      .btn-success {
        background-color: #5cb85c;
      }
      /* Input field styling */
      .form-control {
        border-radius: 50px;
        border: 1px solid #ccc;
      }
      /* Footer styling */
      .footer {
        text-align: center;
        margin-top: 30px;
        font-size: 0.9rem;
        color: #999;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>TGBotX Mini-App</h1>
        <p>Your gateway to token management</p>
      </div>

      <!-- User Info -->
      <p id="user-info" class="fs-5">Loading user info...</p>

      <!-- Action Buttons -->
      <div class="mb-4">
        <button id="check-token" class="btn btn-primary me-2">
          Check My Token Balance
        </button>
        <button id="clear-result" class="btn btn-secondary">
          Clear
        </button>
      </div>

      <!-- Wallet Address Input -->
      <div class="mb-3">
        <label for="walletAddress" class="form-label">
          Enter Your Wallet Address:
        </label>
        <input
          type="text"
          class="form-control"
          id="walletAddress"
          placeholder="e.g., 0x1234...abcd"
        />
      </div>
      <button id="check-wallet" class="btn btn-success">
        Check Balance
      </button>

      <!-- Error Message Area -->
      <div id="error-message" class="mt-2 text-danger"></div>

      <!-- Result Display Area -->
      <div id="result" class="mt-3"></div>

      <!-- Footer -->
      <div class="footer">
        &copy; 2025 TGBotX. All rights reserved.
      </div>
    </div>

    <script>
      (function () {
        // Check if we're inside Telegram
        let tg;
        if (typeof window.Telegram !== 'undefined' && window.Telegram.WebApp) {
          tg = window.Telegram.WebApp;
          tg.expand();
          const initDataUnsafe = tg.initDataUnsafe || {};
          document.getElementById("user-info").innerText =
            "Hello " + (initDataUnsafe.user?.first_name || "mysterious user") + "!";
        } else {
          document.getElementById("user-info").innerText =
            "Hello from outside Telegram!";
        }

        // "Check My Token Balance" button functionality
        document.getElementById("check-token").addEventListener("click", () => {
          document.getElementById("result").innerText = "You currently hold 100 tokens.";
        });

        // "Check Balance" button for wallet address input
        document.getElementById("check-wallet").addEventListener("click", () => {
          const walletAddress = document.getElementById("walletAddress").value.trim();
          const errorMessage = document.getElementById("error-message");
          const result = document.getElementById("result");

          // Clear any previous error message
          errorMessage.innerText = "";

          // Validate the input
          if (!walletAddress) {
            errorMessage.innerText = "Please enter a valid wallet address.";
            return;
          }

          // Simulate a delay while checking the balance
          result.innerText = "Checking balance...";
          setTimeout(() => {
            result.innerText = `Wallet ${walletAddress} has 500 tokens (simulated).`;
          }, 1000);
        });

        // "Clear" button functionality
        document.getElementById("clear-result").addEventListener("click", () => {
          document.getElementById("result").innerText = "";
          document.getElementById("error-message").innerText = "";
        });
      })();
    </script>
  </body>
</html>
